================================================================================
                    VulSystem åç«¯ API æµ‹è¯•æ€»ç»“
================================================================================

æµ‹è¯•æ—¶é—´: 2025-11-13 09:59:52
åç«¯åœ°å€: http://localhost:8081
æ¡†æ¶ç‰ˆæœ¬: Spring Boot 2.6.13 + MyBatis Plus

================================================================================
                          ğŸ¯ æµ‹è¯•æ€»ä½“ç»“æœ
================================================================================

æ€»æµ‹è¯•æ•°:        13
æˆåŠŸ:            12  âœ…
å¤±è´¥:            1   âŒ
æˆåŠŸç‡:          92.3%

================================================================================
                         ğŸ“Š æŒ‰æ¨¡å—æµ‹è¯•ç»“æœ
================================================================================

âœ… ç”¨æˆ·æ¨¡å— (3/3 - 100%)
   âœ“ GET  /user/login            - ç”¨æˆ·ç™»å½•
   âœ“ POST /user/register         - ç”¨æˆ·æ³¨å†Œ  
   âœ“ GET  /user/info             - è·å–ç”¨æˆ·ä¿¡æ¯

âœ… å…¬å¸æ¨¡å— (2/2 - 100%)
   âœ“ GET  /company/getStrategy   - è·å–æ£€æµ‹ç­–ç•¥
   âœ“ POST /company/updateStrategy - æ›´æ–°æ£€æµ‹ç­–ç•¥

âœ… é¡¹ç›®æ¨¡å— (4/4 - 100%)
   âœ“ GET /project/list                 - é¡¹ç›®åˆ—è¡¨
   âœ“ GET /project/info                 - é¡¹ç›®è¯¦æƒ…
   âœ“ GET /project/getVulnerabilities   - é¡¹ç›®æ¼æ´
   âœ“ GET /project/statistics           - é¡¹ç›®ç»Ÿè®¡

âŒ æ¼æ´æ¨¡å— (0/1 - 0%)
   âœ— GET /vulnerability/accept         - æ¥å—/æ‹’ç»æ¼æ´å»ºè®®
     é—®é¢˜: SQLé”™è¯¯ - Unknown column 'ref' in field list
     åŸå› : Vulnerability å®ä½“ä¸æ•°æ®åº“è¡¨å­—æ®µä¸åŒ¹é…
     ä¿®å¤: éœ€è¦æ£€æŸ¥å®ä½“ç±»å®šä¹‰å’Œæ•°æ®åº“è¡¨ç»“æ„

âœ… æ¼æ´æŠ¥å‘Šæ¨¡å— (3/3 - 100%)
   âœ“ GET /vulnerabilityReport/list     - æ¼æ´åˆ—è¡¨
   âœ“ GET /vulnerabilityReport/search   - å…³é”®å­—æœç´¢
   âœ“ GET /vulnerabilityReport/filter   - é£é™©è¿‡æ»¤

================================================================================
                        ğŸ”§ é—®é¢˜è¯¦æƒ…åŠä¿®å¤æ–¹æ¡ˆ
================================================================================

ã€é—®é¢˜ 1 - ä¼˜å…ˆçº§: é«˜ã€‘
æ¥å£: GET /vulnerability/accept?vulnerabilityid=1&ifaccept=1
é”™è¯¯: SQL Syntax Error - Unknown column 'ref' in 'field list'

åŸå› åˆ†æ:
  SQL æŸ¥è¯¢è¯­å¥ä¸­åŒ…å«æ•°æ®åº“è¡¨ä¸å­˜åœ¨çš„åˆ— 'ref'ï¼š
  SELECT id,name,description,language,time,riskLevel,isaccept,isdelete,ref
  FROM vulnerability
  WHERE id=?

ä¿®å¤æ­¥éª¤:
  1. æ£€æŸ¥ backend/src/main/java/com/nju/backend/repository/po/Vulnerability.java
  2. æ£€æŸ¥ backend/src/main/resources/mapper/VulnerabilityMapper.xml (æˆ–æ³¨è§£)
  3. æ£€æŸ¥æ•°æ®åº“å®é™…è¡¨ç»“æ„: SHOW COLUMNS FROM vulnerability;
  4. ä¿®å¤ä¸åŒ¹é…çš„åˆ—ï¼ˆåˆ é™¤æˆ–æ·»åŠ ï¼‰

é¢„è®¡ä¿®å¤æ—¶é—´: 15-30åˆ†é’Ÿ

================================================================================
                         âœ¨ ç³»ç»ŸåŠŸèƒ½è¯„ä¼°
================================================================================

æ ¸å¿ƒåŠŸèƒ½çŠ¶æ€:
  âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿ        - æ­£å¸¸
  âœ… å…¬å¸ç®¡ç†ç³»ç»Ÿ        - æ­£å¸¸
  âœ… é¡¹ç›®ç®¡ç†ç³»ç»Ÿ        - æ­£å¸¸
  âœ… æ¼æ´æŠ¥å‘Šç³»ç»Ÿ        - æ­£å¸¸
  âš ï¸  æ¼æ´å»ºè®®ç³»ç»Ÿ        - æ•…éšœï¼ˆSQLé”™è¯¯ï¼‰

æ•°æ®åº“è¿æ¥:
  âœ… MySQL è¿æ¥         - æ­£å¸¸
  âœ… åˆ†é¡µæŸ¥è¯¢            - æ­£å¸¸
  âœ… æœç´¢/è¿‡æ»¤åŠŸèƒ½       - æ­£å¸¸

é”™è¯¯å¤„ç†:
  âœ… ç»Ÿä¸€å“åº”æ ¼å¼        - RespBean
  âœ… é”™è¯¯æ¶ˆæ¯è¿”å›        - æœ‰æ•ˆ
  âš ï¸  HTTP çŠ¶æ€ç         - éœ€è§„èŒƒåŒ–ï¼ˆé¡¹ç›®ä¸å­˜åœ¨æ—¶è¿”å›500è€Œé404ï¼‰

================================================================================
                        ğŸ“ˆ æ€§èƒ½åŠå¹¶å‘èƒ½åŠ›
================================================================================

å¹³å‡å“åº”æ—¶é—´:
  - ç”¨æˆ·ç›¸å…³æ¥å£:     ~100-200ms
  - é¡¹ç›®ç›¸å…³æ¥å£:     ~200-300ms
  - åˆ—è¡¨/æœç´¢æ¥å£:    ~300-400ms

é¢„è®¡å¹¶å‘èƒ½åŠ›:
  æ¡†æ¶: Spring Boot 2.6.13 (Tomcat 9.0.68)
  æ•°æ®åº“: MySQL (HikariCP è¿æ¥æ± , 10ä¸ªè¿æ¥)
  ä¼°è®¡ååé‡: 100+ req/s

================================================================================
                        ğŸ’¡ ä¼˜åŒ–å»ºè®®ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰
================================================================================

ã€é«˜ä¼˜å…ˆçº§ã€‘ä¿®å¤SQLé”™è¯¯
  - ä¿®å¤ /vulnerability/accept çš„åˆ—ä¸åŒ¹é…é—®é¢˜
  - é¢„è®¡æ—¶é—´: 15-30åˆ†é’Ÿ
  - å½±å“èŒƒå›´: 1ä¸ªæ¥å£

ã€ä¸­ä¼˜å…ˆçº§ã€‘æ”¹è¿›é”™è¯¯å¤„ç†
  - è§„èŒƒåŒ– HTTP çŠ¶æ€ç ï¼ˆ404 for not found, 400 for bad requestï¼‰
  - æ·»åŠ æ›´è¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯
  - éªŒè¯æ‰€æœ‰è¾“å…¥å‚æ•°

ã€ä¸­ä¼˜å…ˆçº§ã€‘å¢å¼ºå‚æ•°éªŒè¯
  - æ·»åŠ  @Valid æ³¨è§£
  - ä½¿ç”¨ @NotNull, @Positive, @NotBlank ç­‰éªŒè¯å™¨
  - æä¾›æ›´å¥½çš„éªŒè¯é”™è¯¯æ¶ˆæ¯

ã€ä½ä¼˜å…ˆçº§ã€‘æ€§èƒ½ä¼˜åŒ–
  - ä¸ºé¢‘ç¹æŸ¥è¯¢æ·»åŠ ç¼“å­˜ï¼ˆå¦‚Redisï¼‰
  - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
  - æ·»åŠ æŸ¥è¯¢ç´¢å¼•

ã€ä½ä¼˜å…ˆçº§ã€‘å¯è§‚æµ‹æ€§
  - æ·»åŠ è¯¦ç»†çš„æ—¥å¿—è®°å½•
  - å®ç°æ€§èƒ½ç›‘æ§
  - æ·»åŠ è¯·æ±‚é“¾è·¯è¿½è¸ª

================================================================================
                        ğŸ“‹ API ä½¿ç”¨ç¤ºä¾‹
================================================================================

ã€ç”¨æˆ·æ³¨å†Œã€‘
  POST /user/register
  å‚æ•°: username=user123&email=user@test.com&password=Pass123&phone=13800000001
  
ã€ç”¨æˆ·ç™»å½•ã€‘
  GET /user/login?username=user123&password=Pass123

ã€è·å–é¡¹ç›®åˆ—è¡¨ã€‘
  GET /project/list?companyId=1&page=1&size=10

ã€æœç´¢æ¼æ´æŠ¥å‘Šã€‘
  GET /vulnerabilityReport/search?keyword=CVE-2025

ã€è¿‡æ»¤æ¼æ´æŠ¥å‘Šã€‘
  GET /vulnerabilityReport/filter?riskLevel=high&startDate=2025-01-01

================================================================================
                         ğŸ¯ åç»­è¡ŒåŠ¨é¡¹
================================================================================

ç«‹å³æ‰§è¡Œ (ä»Šå¤©):
  [ ] ä¿®å¤ /vulnerability/accept çš„ SQL é”™è¯¯
  [ ] ç¼–å†™ä¿®å¤æµ‹è¯•ç”¨ä¾‹
  [ ] éªŒè¯ä¿®å¤åçš„åŠŸèƒ½

æœ¬å‘¨æ‰§è¡Œ:
  [ ] è§„èŒƒåŒ–æ‰€æœ‰ HTTP çŠ¶æ€ç 
  [ ] æ·»åŠ è¾“å…¥å‚æ•°éªŒè¯
  [ ] æ·»åŠ å•å…ƒæµ‹è¯•

ä¸‹å‘¨æ‰§è¡Œ:
  [ ] æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
  [ ] æ·»åŠ æ—¥å¿—å’Œç›‘æ§
  [ ] æ–‡æ¡£æ›´æ–°

================================================================================

æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2025-11-13 10:00:00
æµ‹è¯•å·¥å…·: curl + bash
ç”Ÿæˆè€…: Claude Code

================================================================================
