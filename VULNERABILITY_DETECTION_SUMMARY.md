# âœ… SpringBootç«¯æ¼æ´æ£€æµ‹åŠŸèƒ½ - å®ç°å®Œæˆæ€»ç»“

## ğŸ“‹ ä»»åŠ¡å®Œæˆæƒ…å†µ

å·²æˆåŠŸå®ç°SpringBootç«¯çš„æ¼æ´æ£€æµ‹åŠŸèƒ½ï¼Œä»¿ç…§Javaé¡¹ç›®çš„æ¼æ´æ£€æµ‹é€»è¾‘ï¼Œå®Œæ•´å®ç°äº†è°ƒç”¨Flask APIã€æ•°æ®åº“æ›´æ–°å’Œé˜ˆå€¼å¤„ç†ã€‚

---

## ğŸ¯ æ ¸å¿ƒå®ç°

### 1. åˆ›å»ºçš„æ–°æ–‡ä»¶

#### âœ… VulnerabilityDetectionService.java
**è·¯å¾„**: `backend/src/main/java/com/nju/backend/service/vulnerability/VulnerabilityDetectionService.java`

**åŠŸèƒ½**:
- ä»white_listè¡¨è¯»å–ç»„ä»¶åˆ—è¡¨
- è°ƒç”¨Flask APIè¿›è¡Œæ¼æ´åŒ¹é…
- å¤„ç†é˜ˆå€¼é€»è¾‘ï¼ˆsimilarityThresholdå’ŒmaxDetectNumsï¼‰
- å°†æ£€æµ‹ç»“æœå­˜å‚¨åˆ°4ä¸ªæ•°æ®åº“è¡¨

**æ ¸å¿ƒæ–¹æ³•**:
```java
// ä¸ºæŒ‡å®šå…¬å¸å’Œè¯­è¨€æ‰§è¡Œæ¼æ´æ£€æµ‹
public Map<String, Object> detectVulnerabilitiesForCompanyAndLanguage(
    int companyId,
    String language,
    List<VulnerabilityReport> vulnerabilityReports)

// ä¸ºæ‰€æœ‰å…¬å¸å’Œæ‰€æœ‰è¯­è¨€æ‰§è¡Œæ¼æ´æ£€æµ‹
public Map<String, Object> detectVulnerabilitiesForAll(
    List<VulnerabilityReport> vulnerabilityReports)

// ä»æ•°æ®åº“è·å–ç™½åå•ç»„ä»¶åˆ—è¡¨
private String getWhiteListFromDatabase(int companyId, String language)

// è°ƒç”¨Flask APIè¿›è¡Œæ¼æ´æ£€æµ‹
private String callFlaskDetectionAPI(...)

// ä¿å­˜æ£€æµ‹ç»“æœåˆ°æ•°æ®åº“
private int saveDetectionResults(...)
```

### 2. ä¿®æ”¹çš„æ–‡ä»¶

#### âœ… VulnerabilityController.java
**è·¯å¾„**: `backend/src/main/java/com/nju/backend/controller/VulnerabilityController.java`

**æ–°å¢æ¥å£**:

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/vulnerability/detect/all` | POST | å…¨é‡æ¼æ´æ£€æµ‹ï¼ˆæ‰€æœ‰å…¬å¸Ã—æ‰€æœ‰è¯­è¨€ï¼‰ |
| `/vulnerability/detect` | POST | æŒ‡å®šå…¬å¸å’Œè¯­è¨€çš„æ¼æ´æ£€æµ‹ |
| `/vulnerability/detect/project` | POST | é¡¹ç›®çº§åˆ«æ¼æ´æ£€æµ‹ï¼ˆå¼€å‘ä¸­ï¼‰ |
| `/vulnerability/stats` | GET | æ¼æ´ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¼€å‘ä¸­ï¼‰ |

---

## ğŸ“Š æ•°æ®åº“æ›´æ–°é€»è¾‘è¯¦è§£

### å®Œæ•´æµç¨‹

```
1. vulnerability_report è¡¨
   â†“
2. vulnerability è¡¨ï¼ˆæ¯ä¸ªåŒ¹é…çš„ç»„ä»¶ä¸€æ¡è®°å½•ï¼‰
   â†“
3. vulnerability_report_vulnerability è¡¨ï¼ˆå…³è”ï¼‰
   â†“
4. project_vulnerability è¡¨ï¼ˆé¡¹ç›®å…³è”ï¼‰
```

### è¡¨1: vulnerability_report

**æ“ä½œ**: æ£€æŸ¥æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™æ’å…¥

```java
VulnerabilityReport existingReport = vulnerabilityReportMapper.selectById(vulnerabilityReport.getId());
if (existingReport == null) {
    vulnerabilityReportMapper.insert(vulnerabilityReport);
}
```

**å­—æ®µ**:
- cve_id: CVEç¼–å·
- vulnerability_name: æ¼æ´åç§°
- description: æ¼æ´æè¿°
- risk_level: é£é™©ç­‰çº§
- disclosure_time: æŠ«éœ²æ—¶é—´

### è¡¨2: vulnerability

**æ“ä½œ**: ä¸ºæ¯ä¸ªåŒ¹é…çš„ç»„ä»¶åˆ›å»ºä¸€æ¡æ¼æ´è®°å½•

```java
for (JsonNode whiteListItem : whiteListArray) {
    String componentName = whiteListItem.get("name").asText();
    String projectId = whiteListItem.get("pojectid").asText();

    if (componentList.contains(componentName)) {
        Vulnerability vulnerability = new Vulnerability();
        vulnerability.setName(vulnerabilityReport.getVulnerabilityName());  // â† ä½¿ç”¨æ¼æ´åç§°
        vulnerability.setRef(vulnerabilityReport.getCveId());
        vulnerability.setDescription(vulnerabilityReport.getDescription());
        vulnerability.setRiskLevel(vulnerabilityReport.getRiskLevel());
        vulnerability.setTime(vulnerabilityReport.getDisclosureTime());
        vulnerability.setLanguage(language);
        vulnerability.setIsAccept(0);
        vulnerability.setIsDelete(0);

        vulnerabilityMapper.insert(vulnerability);
        // ... ç»§ç»­åˆ›å»ºå…³è”
    }
}
```

**é‡è¦**: nameå­—æ®µä½¿ç”¨`vulnerabilityReport.getVulnerabilityName()`ï¼Œè€Œä¸æ˜¯ç»„ä»¶åç§°

### è¡¨3: vulnerability_report_vulnerability

**æ“ä½œ**: åˆ›å»ºæ¼æ´æŠ¥å‘Šå’Œæ¼æ´ä¹‹é—´çš„å…³è”

```java
VulnerabilityReportVulnerability vrv = new VulnerabilityReportVulnerability();
vrv.setVulnerabilityId(vulnerability.getId());
vrv.setVulnerabilityReportId(vulnerabilityReport.getId());
vrv.setIsDelete(0);
vulnerabilityReportVulnerabilityMapper.insert(vrv);
```

### è¡¨4: project_vulnerability

**æ“ä½œ**: åˆ›å»ºé¡¹ç›®å’Œæ¼æ´ä¹‹é—´çš„å…³è”

```java
ProjectVulnerability pv = new ProjectVulnerability();
pv.setVulnerabilityId(vulnerability.getId());
pv.setProjectId(Integer.parseInt(projectId));  // â† ä»white_listä¸­è·å–
pv.setIsDelete(0);
projectVulnerabilityMapper.insert(pv);
```

**å…³é”®**: projectIdä»white_listä¸­çš„ç»„ä»¶è·å–ï¼Œç¡®ä¿å…³è”åˆ°æ­£ç¡®çš„é¡¹ç›®

---

## ğŸšï¸ é˜ˆå€¼å¤„ç†è¯¦è§£

### 1. ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆsimilarityThresholdï¼‰

**æ¥æº**: `company.similarity_threshold`

**ä¼ é€’åˆ°Flask**:
```java
params.put("similarityThreshold", company.getSimilarityThreshold().toString());
```

**åœ¨Flaskç«¯çš„ä½œç”¨**:
- æ§åˆ¶TF-IDFç®—æ³•çš„åŒ¹é…ä¸¥æ ¼åº¦
- åªæœ‰ç›¸ä¼¼åº¦ â‰¥ é˜ˆå€¼çš„ç»„ä»¶æ‰ä¼šè¢«è¿”å›

**æ•°æ®æµ**:
```
companyè¡¨
  â”œâ”€ similarity_threshold (0.0 - 1.0)
  â†“
ä¼ é€’ç»™Flask API
  â†“
Flaskä½¿ç”¨TF-IDFè®¡ç®—ç›¸ä¼¼åº¦
  â†“
è¿‡æ»¤: ç›¸ä¼¼åº¦ < é˜ˆå€¼çš„ç»„ä»¶è¢«æ’é™¤
  â†“
è¿”å›: "component1;component2;component3"
```

**æ¨èå€¼**:
- 0.3 - 0.5: å®½æ¾ï¼ˆå¯èƒ½è¯¯æŠ¥ï¼‰
- 0.5 - 0.7: å¹³è¡¡ï¼ˆæ¨èï¼‰
- 0.7 - 1.0: ä¸¥æ ¼ï¼ˆå¯èƒ½æ¼æŠ¥ï¼‰

### 2. æœ€å¤§æ£€æµ‹æ•°é‡ï¼ˆmaxDetectNumsï¼‰

**æ¥æº**: `company.max_detect_nums`

**åº”ç”¨é€»è¾‘**:
```java
List<String> componentList = Arrays.asList(matchedComponents.split(";"));

// æˆªæ–­ï¼šåªä¿ç•™å‰Nä¸ªåŒ¹é…çš„ç»„ä»¶
if (componentList.size() > maxDetectNum) {
    componentList = componentList.subList(0, maxDetectNum);
}

// åªä¸ºå‰Nä¸ªç»„ä»¶åˆ›å»ºæ¼æ´è®°å½•
for (JsonNode whiteListItem : whiteListArray) {
    if (componentList.contains(componentName)) {
        // åˆ›å»ºvulnerabilityè®°å½•
        // åˆ›å»ºproject_vulnerabilityè®°å½•
    }
}
```

**ä½œç”¨**:
- é™åˆ¶æ¯ä¸ªCVEæœ€å¤šæ£€æµ‹çš„ç»„ä»¶æ•°é‡
- é¿å…æ•°æ®åº“è®°å½•çˆ†ç‚¸
- æå‡æ£€æµ‹æ€§èƒ½

**ç¤ºä¾‹**:
```
Flaskè¿”å›: "lxml;requests;Pillow;django;flask;numpy;pandas;scipy;matplotlib;sklearn;tensorflow"
         (11ä¸ªç»„ä»¶)
           â†“
maxDetectNums = 5
           â†“
åªå¤„ç†å‰5ä¸ª: "lxml;requests;Pillow;django;flask"
           â†“
åˆ›å»º5æ¡vulnerabilityè®°å½• + 5æ¡project_vulnerabilityè®°å½•
```

**æ¨èå€¼**:
- 5 - 10: å¤§å‹é¡¹ç›®
- 10 - 50: ä¸­å°å‹é¡¹ç›®

---

## ğŸ”Œ APIä½¿ç”¨ç¤ºä¾‹

### æ¥å£1: æŒ‡å®šå…¬å¸å’Œè¯­è¨€æ£€æµ‹

**è¯·æ±‚**:
```bash
curl -X POST "http://localhost:8081/vulnerability/detect?companyId=1&language=java"
```

**å‚æ•°**:
- `companyId`: å…¬å¸IDï¼ˆå¿…é¡»ï¼‰
- `language`: è¯­è¨€ç±»å‹ï¼ˆå¿…é¡»ï¼‰
  - å¯é€‰å€¼: java, python, php, ruby, go, rust, javascript, erlang, c

**è¿”å›ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "SUCCESS",
  "obj": {
    "processedCount": 50,
    "detectedCount": 15,
    "company": "å…¬å¸A",
    "language": "java"
  }
}
```

**å­—æ®µè¯´æ˜**:
- `processedCount`: å¤„ç†çš„æ¼æ´æŠ¥å‘Šæ•°é‡
- `detectedCount`: æ£€æµ‹åˆ°çš„æœ‰æ¼æ´çš„ç»„ä»¶æ•°é‡
- `company`: å…¬å¸åç§°
- `language`: æ£€æµ‹çš„è¯­è¨€ç±»å‹

### æ¥å£2: å…¨é‡æ£€æµ‹

**è¯·æ±‚**:
```bash
curl -X POST "http://localhost:8081/vulnerability/detect/all"
```

**è¯´æ˜**: å¯¹æ‰€æœ‰å…¬å¸çš„æ‰€æœ‰è¯­è¨€è¿›è¡Œæ£€æµ‹ï¼ˆå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼‰

**è¿”å›ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "SUCCESS",
  "obj": {
    "totalProcessed": 450,
    "totalDetected": 120,
    "companiesCount": 2,
    "languagesCount": 9,
    "details": [
      {
        "processedCount": 50,
        "detectedCount": 15,
        "company": "å…¬å¸A",
        "language": "java"
      },
      ...
    ]
  }
}
```

---

## ğŸ§ª æµ‹è¯•æµç¨‹

### å‡†å¤‡å·¥ä½œ

1. **ç¡®ä¿åç«¯æœåŠ¡å™¨è¿è¡Œ**:
```bash
cd backend
JAVA_HOME="C:/Users/ä»»è‰¯ç‰/.jdks/corretto-1.8.0_462" \
PATH="C:/Users/ä»»è‰¯ç‰/.jdks/corretto-1.8.0_462/bin:$PATH" \
mvn spring-boot:run
```

2. **ç¡®ä¿FlaskæœåŠ¡å™¨è¿è¡Œ**:
```bash
# Flaskåº”è¯¥è¿è¡Œåœ¨ http://localhost:5000
```

3. **ç¡®ä¿æœ‰æ•°æ®**:
```sql
-- æ£€æŸ¥æ¼æ´æŠ¥å‘Š
SELECT COUNT(*) FROM vulnerability_report;

-- æ£€æŸ¥ç»„ä»¶ç™½åå•
SELECT language, COUNT(*) as count
FROM white_list
WHERE isdelete = 0
GROUP BY language;
```

### æ‰§è¡Œæµ‹è¯•

#### æ–¹æ³•1: ä½¿ç”¨Pythonè„šæœ¬

```bash
python test_vulnerability_detection.py
```

åŠŸèƒ½:
- è‡ªåŠ¨æµ‹è¯•æŒ‡å®šå…¬å¸å’Œè¯­è¨€çš„æ£€æµ‹
- è‡ªåŠ¨æŸ¥è¯¢æ•°æ®åº“éªŒè¯ç»“æœ
- å¯é€‰æ‹©æ‰§è¡Œå…¨é‡æ£€æµ‹

#### æ–¹æ³•2: ä½¿ç”¨Bashè„šæœ¬ï¼ˆLinux/Macï¼‰

```bash
bash test_api_quick.sh
```

åŠŸèƒ½:
- æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
- è°ƒç”¨æ£€æµ‹API
- æŸ¥è¯¢æ£€æµ‹ç»“æœ

#### æ–¹æ³•3: ç›´æ¥ä½¿ç”¨curl

```bash
# æµ‹è¯•Javaæ£€æµ‹
curl -X POST "http://localhost:8081/vulnerability/detect?companyId=1&language=java"

# æµ‹è¯•Pythonæ£€æµ‹
curl -X POST "http://localhost:8081/vulnerability/detect?companyId=1&language=python"

# å…¨é‡æ£€æµ‹
curl -X POST "http://localhost:8081/vulnerability/detect/all"
```

### éªŒè¯ç»“æœ

```sql
-- æŸ¥çœ‹æ£€æµ‹åˆ°çš„æ¼æ´ï¼ˆæŒ‰è¯­è¨€ï¼‰
SELECT language, COUNT(*) as count
FROM vulnerability
WHERE is_delete = 0
GROUP BY language
ORDER BY language;

-- æŸ¥çœ‹æœ‰é£é™©çš„é¡¹ç›®
SELECT
    p.id,
    p.name,
    p.language,
    COUNT(*) as vuln_count
FROM project_vulnerability pv
JOIN project p ON pv.project_id = p.id
WHERE pv.isdelete = 0
GROUP BY p.id, p.name, p.language
ORDER BY vuln_count DESC
LIMIT 10;

-- æŸ¥çœ‹å…·ä½“çš„æ¼æ´è¯¦æƒ…
SELECT
    v.id,
    v.name as vulnerability_name,
    v.ref as cve_id,
    v.language,
    v.risk_level,
    v.description
FROM vulnerability v
WHERE v.is_delete = 0
ORDER BY v.id DESC
LIMIT 10;

-- æŸ¥çœ‹é¡¹ç›®-æ¼æ´å…³è”è¯¦æƒ…
SELECT
    p.name as project_name,
    p.language,
    v.name as vulnerability_name,
    v.ref as cve_id,
    v.risk_level
FROM project_vulnerability pv
JOIN project p ON pv.project_id = p.id
JOIN vulnerability v ON pv.vulnerability_id = v.id
WHERE pv.isdelete = 0
ORDER BY pv.id DESC
LIMIT 10;
```

---

## ğŸ“ å…³é”®ä»£ç ç‰‡æ®µ

### ä»white_listè¡¨è¯»å–ç»„ä»¶

```java
// 1. è·å–å…¬å¸çš„é¡¹ç›®åˆ—è¡¨
Company company = companyMapper.selectById(companyId);
JsonNode projectIdJson = mapper.readTree(company.getProjectId());
List<Integer> projectIds = parseProjectIds(projectIdJson);

// 2. è·å–é¡¹ç›®çš„æ–‡ä»¶è·¯å¾„
List<Project> projects = projectMapper.selectBatchIds(projectIds);
List<String> projectPaths = projects.stream()
    .map(Project::getFile)
    .collect(Collectors.toList());

// 3. æŸ¥è¯¢white_listè¡¨
List<WhiteList> whiteLists = whiteListMapper.selectList(
    new QueryWrapper<WhiteList>()
        .in("file_path", projectPaths)
        .eq("language", language)
        .eq("isdelete", 0)
);

// 4. æ„å»ºJSONè¿”å›
[
  {"name": "lxml", "language": "python", "pojectid": "32"},
  {"name": "requests", "language": "python", "pojectid": "32"},
  ...
]
```

### è°ƒç”¨Flask API

```java
Map<String, String> params = new HashMap<>();
params.put("cve_id", vulnerabilityReport.getCveId());
params.put("desc", vulnerabilityReport.getDescription());
params.put("white_list", whiteListJson);
params.put("company", company.getName());
params.put("detect_strategy", company.getDetectStrategy());
params.put("similarityThreshold", company.getSimilarityThreshold().toString());
params.put("language", language);

HttpHeaders headers = new HttpHeaders();
headers.setContentType(MediaType.APPLICATION_JSON);
HttpEntity<Map<String, String>> requestEntity = new HttpEntity<>(params, headers);

ResponseEntity<String> response = restTemplate.exchange(
    "http://localhost:5000/vulnerabilities/detect",
    HttpMethod.POST,
    requestEntity,
    String.class
);

String matchedComponents = response.getBody();
// è¿”å›: "lxml;requests;Pillow"
```

### å­˜å‚¨æ£€æµ‹ç»“æœ

```java
// 1. ä¿å­˜æ¼æ´æŠ¥å‘Š
if (vulnerabilityReportMapper.selectById(report.getId()) == null) {
    vulnerabilityReportMapper.insert(report);
}

// 2. è§£æåŒ¹é…çš„ç»„ä»¶
List<String> componentList = Arrays.asList(matchedComponents.split(";"));
if (componentList.size() > maxDetectNum) {
    componentList = componentList.subList(0, maxDetectNum);
}

// 3. ä¸ºæ¯ä¸ªåŒ¹é…çš„ç»„ä»¶åˆ›å»ºè®°å½•
for (JsonNode item : whiteListArray) {
    if (componentList.contains(item.get("name").asText())) {
        // åˆ›å»ºvulnerabilityè®°å½•
        Vulnerability v = new Vulnerability();
        v.setName(report.getVulnerabilityName());
        ...
        vulnerabilityMapper.insert(v);

        // åˆ›å»ºvulnerability_report_vulnerabilityå…³è”
        VulnerabilityReportVulnerability vrv = new VulnerabilityReportVulnerability();
        vrv.setVulnerabilityId(v.getId());
        vrv.setVulnerabilityReportId(report.getId());
        vulnerabilityReportVulnerabilityMapper.insert(vrv);

        // åˆ›å»ºproject_vulnerabilityå…³è”
        ProjectVulnerability pv = new ProjectVulnerability();
        pv.setProjectId(Integer.parseInt(item.get("pojectid").asText()));
        pv.setVulnerabilityId(v.getId());
        projectVulnerabilityMapper.insert(pv);
    }
}
```

---

## âœ… å®ç°å®Œæˆæ¸…å•

- [x] åˆ›å»ºVulnerabilityDetectionServiceæœåŠ¡ç±»
- [x] å®ç°ä»white_listè¡¨è¯»å–ç»„ä»¶é€»è¾‘
- [x] å®ç°è°ƒç”¨Flask APIçš„å®Œæ•´æµç¨‹
- [x] å®ç°similarityThresholdé˜ˆå€¼å¤„ç†
- [x] å®ç°maxDetectNumsé˜ˆå€¼å¤„ç†
- [x] å®ç°æ•°æ®åº“4ä¸ªè¡¨çš„æ›´æ–°é€»è¾‘
  - [x] vulnerability_reportè¡¨
  - [x] vulnerabilityè¡¨ï¼ˆä½¿ç”¨æ­£ç¡®çš„æ¼æ´åç§°ï¼‰
  - [x] vulnerability_report_vulnerabilityè¡¨
  - [x] project_vulnerabilityè¡¨
- [x] æ·»åŠ VulnerabilityController RESTæ¥å£
- [x] ç¼–è¯‘æˆåŠŸï¼ˆBUILD SUCCESSï¼‰
- [x] åˆ›å»ºæµ‹è¯•è„šæœ¬
- [x] åˆ›å»ºå®Œæ•´æ–‡æ¡£

---

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `VulnerabilityDetectionService.java` | æ ¸å¿ƒæ¼æ´æ£€æµ‹æœåŠ¡ç±» |
| `test_vulnerability_detection.py` | Pythonæµ‹è¯•è„šæœ¬ |
| `test_api_quick.sh` | Bashå¿«é€Ÿæµ‹è¯•è„šæœ¬ |
| `VULNERABILITY_DETECTION_IMPLEMENTATION.md` | è¯¦ç»†å®ç°æ–‡æ¡£ |
| `VULNERABILITY_DETECTION_SUMMARY.md` | æœ¬æ€»ç»“æ–‡æ¡£ |

### ä¿®æ”¹æ–‡ä»¶

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|----------|
| `VulnerabilityController.java` | æ·»åŠ 3ä¸ªæ–°æ¥å£ |

---

## ğŸ¯ æ€»ç»“

### æ ¸å¿ƒåŠŸèƒ½

âœ… **å®Œæ•´çš„æ¼æ´æ£€æµ‹æµç¨‹**:
```
æ¼æ´æŠ¥å‘Š + ç»„ä»¶ç™½åå• â†’ Flask APIæ£€æµ‹ â†’ æ•°æ®åº“å­˜å‚¨ï¼ˆ4ä¸ªè¡¨ï¼‰
```

âœ… **é˜ˆå€¼å¤„ç†**:
- similarityThreshold: æ§åˆ¶Flask APIåŒ¹é…ä¸¥æ ¼åº¦
- maxDetectNums: é™åˆ¶æ¯ä¸ªCVEæ£€æµ‹çš„ç»„ä»¶æ•°é‡

âœ… **æ•°æ®åº“æ›´æ–°é€»è¾‘**:
- æ­£ç¡®å­˜å‚¨æ¼æ´æŠ¥å‘Š
- ä¸ºæ¯ä¸ªåŒ¹é…çš„ç»„ä»¶åˆ›å»ºç‹¬ç«‹çš„vulnerabilityè®°å½•
- å»ºç«‹å®Œæ•´çš„å…³è”å…³ç³»ï¼ˆæŠ¥å‘Šâ†”æ¼æ´â†”é¡¹ç›®ï¼‰
- ä½¿ç”¨çœŸå®çš„æ¼æ´åç§°ï¼ˆä¸æ˜¯ç»„ä»¶åç§°ï¼‰

### ä½¿ç”¨å»ºè®®

1. **é¦–æ¬¡ä½¿ç”¨**:
   - å…ˆæµ‹è¯•æŒ‡å®šå…¬å¸å’Œè¯­è¨€ï¼ˆå¿«é€Ÿåé¦ˆï¼‰
   - éªŒè¯æ•°æ®åº“è®°å½•æ­£ç¡®
   - å†æ‰§è¡Œå…¨é‡æ£€æµ‹

2. **é˜ˆå€¼é…ç½®**:
   - similarityThreshold: å»ºè®®0.5-0.7
   - maxDetectNums: å»ºè®®5-10

3. **æ€§èƒ½è€ƒè™‘**:
   - å…¨é‡æ£€æµ‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ
   - å»ºè®®åœ¨ä½å³°æœŸæ‰§è¡Œ

---

**å®ç°æ—¶é—´**: 2025-11-14
**ç¼–è¯‘çŠ¶æ€**: âœ… BUILD SUCCESS
**æµ‹è¯•çŠ¶æ€**: å¾…ç”¨æˆ·æµ‹è¯•
**æ–‡æ¡£çŠ¶æ€**: âœ… å®Œæ•´

